# üéÆ Jak Korzystaƒá z Ulepszonych AI Partner√≥w + Nexus AI

## üöÄ Quick Start

### 1. Uruchom Dashboard
```bash
.venv\Scripts\activate
streamlit run streamlit_app.py --server.port 8503
```

### 2. Otw√≥rz w przeglƒÖdarce
```
http://localhost:8503
```

---

## ü§ñ Nowy Partner: Nexus AI

**Nexus** to meta-advisor wykorzystujƒÖcy zaawansowany AI do syntezy perspektyw wszystkich partner√≥w.

### Co to jest Nexus?
- **Single Mode** (obecny): U≈ºywa Gemini Pro do generowania zbalansowanych odpowiedzi
- **Ensemble Mode** (przysz≈Ço≈õƒá): 3 sub-agents (Claude, Gemini, GPT-4) pracujƒÖce razem
- **Aktywacja Ensemble**: Wymaga 65% accuracy + 30 dni aktywno≈õci + Twojej zgody

### Jak Rozmawiaƒá z Nexusem?
1. W **üí¨ Partnerzy** wybierz **Nexus** z listy
2. Zadaj pytanie - Nexus syntetyzuje wiedzƒô z ca≈Çego portfela
3. Oce≈Ñ odpowied≈∫ (üëç üòê üëé) - to pomaga Nexusowi siƒô uczyƒá!

### Status Nexusa (Sidebar)
Gdy wybierzesz Nexusa, zobaczysz:
- **Mode**: Single lub Ensemble
- **Queries**: Liczba odpowiedzi
- **Avg Time**: ≈öredni czas odpowiedzi
- **Ensemble Eligibility**: Gotowo≈õƒá do aktywacji ensemble
- **Rating Buttons**: Oce≈Ñ jako≈õƒá odpowiedzi

---

## üìö Tryby Odpowiedzi - Jak Wybraƒá?

### Krok 1: Przejd≈∫ do Ustawie≈Ñ
1. W menu bocznym kliknij **‚öôÔ∏è Ustawienia**
2. Przewi≈Ñ do sekcji **ü§ñ Partnerzy AI**

### Krok 2: Wybierz Tryb
Masz 3 opcje:

#### üéØ Zwiƒôz≈Çy
**Kiedy u≈ºywaƒá:**
- Chcesz szybkiej odpowiedzi
- Interesuje Ciƒô tylko wniosek
- Czytasz na telefonie

**Przyk≈Çad odpowiedzi:**
> "Tw√≥j portfel jest zbyt skoncentrowany w technologii (65%). Sugerujƒô dywersyfikacjƒô do sektora finansowego i healthcare. Rozwa≈º sprzeda≈º 10% Apple i zakup JNJ."

#### üìä Normalny (domy≈õlny)
**Kiedy u≈ºywaƒá:**
- Normalna rozmowa
- Chcesz balans miƒôdzy szczeg√≥≈Çami a zwiƒôz≈Ço≈õciƒÖ
- Wiƒôkszo≈õƒá przypadk√≥w

**Przyk≈Çad odpowiedzi:**
> "AnalizujƒÖc Tw√≥j portfel, zauwa≈ºam silnƒÖ koncentracjƒô w technologii (Apple, Microsoft, Nvidia - ≈ÇƒÖcznie 65% warto≈õci). Zgodnie z Artyku≈Çem IV ¬ß2 Kodeksu, powinni≈õmy dƒÖ≈ºyƒá do dywersyfikacji sektorowej. TOP 3 pozycje (AAPL $2,340, MSFT $1,890, NVDA $1,560) generujƒÖ solidny zysk (+28.5% ≈õrednio), ale ich wysokie P/E (28-45) sugeruje spore ryzyko korekty. Rekomendacja: rozwa≈º rotacjƒô 10-15% kapita≈Çu do sektor√≥w defensive (healthcare, consumer staples) dla balansu ryzyka."

#### üìö Szczeg√≥≈Çowy
**Kiedy u≈ºywaƒá:**
- Wa≈ºna decyzja inwestycyjna
- Chcesz pe≈Çnej analizy
- Masz czas przeczytaƒá wszystko
- Potrzebujesz uzasadnie≈Ñ

**Przyk≈Çad odpowiedzi:**
> "Przeprowadzam pe≈ÇnƒÖ analizƒô Twojego portfela akcji wartego $20,920. Zacznƒô od alokacji sektorowej: Technologia dominuje z 65% (AAPL $2,340, MSFT $1,890, NVDA $1,560, GOOGL $890), Healthcare 15% (JNJ $780, PFE $340), Finanse 12% (JPM $560, BAC $340), Pozosta≈Çe 8%. Zgodnie z Artyku≈Çem IV ¬ß2 Kodeksu Sp√≥≈Çki, kt√≥ry m√≥wi o 'dywersyfikacji miƒôdzy sektorami nieskorelowanymi', ta koncentracja w tech stwarza znaczƒÖce ryzyko systemowe.
>
> AnalizujƒÖc dane rynkowe: AAPL (P/E: 28.5, Dywidenda: 0.5%), MSFT (P/E: 35.2, Dywidenda: 0.8%), NVDA (P/E: 45.1, Dywidenda: 0.0%). Wysokie P/E sugerujƒÖ, ≈ºe wyceny sƒÖ napiƒôte wzglƒôdem historycznych norm. Tw√≥j ≈õredni koszt AAPL to $185/akcjƒô przy obecnej cenie $190 (+2.7% zysku), ale pamiƒôtaj ≈ºe w 2022 spada≈Ç do $130 - potencja≈Ç 30% korekty istnieje.
>
> Moja strategia rebalansingu: 1) Sprzedaj 15% AAPL (uwolni ~$350), 2) Sprzedaj 10% NVDA (~$156), 3) Kup JNJ lub Procter & Gamble (defensive, stabilne dywidendy 3-4%), 4) Rozwa≈º dodanie REIT-√≥w dla dywersyfikacji (np. O, VNQ), 5) Zostaw 10% w got√≥wce na okazje.
>
> Uzasadnienie finansowe: Dostƒôpny kapita≈Ç miesiƒôczny to 864 PLN (~$238), wiƒôc pojedyncza transakcja $350-500 to rozsƒÖdna skala. Rebalansing nie wymaga dokapitalizowania, tylko rotacjƒô istniejƒÖcych aktyw√≥w. Oczekiwany efekt: zmniejszenie beta portfela z ~1.4 do ~1.1, wzrost dywidendy z 0.6% do 1.2% rocznie, zachowanie potencja≈Çu wzrostu ale z ni≈ºszym ryzykiem korekty. Zgodnie z Artyku≈Çem V ¬ß1 o 'd≈Çugoterminowej perspektywie', ta zmiana zwiƒôksza antykrucho≈õƒá portfela."

### Krok 3: Zapisz i Testuj
1. Wyb√≥r trybu zapisuje siƒô automatycznie
2. Przejd≈∫ do **üí¨ Partnerzy**
3. Napisz pytanie testowe
4. Obserwuj r√≥≈ºnice w d≈Çugo≈õci odpowiedzi!

---

## üí¨ Przyk≈Çadowe Rozmowy

### Test 1: Kodeks Sp√≥≈Çki
**Pytanie:**
```
Wed≈Çug kt√≥rego artyku≈Çu Kodeksu powinni≈õmy oceniaƒá nowe inwestycje?
```

**Oczekiwana odpowied≈∫** (Partner bƒôdzie cytowaƒá konkretne artyku≈Çy!):
> "Zgodnie z Artyku≈Çem IV ¬ß1 Kodeksu, ka≈ºda inwestycja musi byƒá poddana analizie fundamentalnej..."

---

### Test 2: Analiza TOP 10 Pozycji
**Pytanie:**
```
Kt√≥ra z moich pozycji ma najwy≈ºszy zysk procentowy?
```

**Oczekiwana odpowied≈∫** (Partner analizuje rzeczywiste dane!):
> "Z TOP 10 pozycji, NVDA ma najwy≈ºszy zysk +45.2% ($1,560 warto≈õƒá, koszt $1,074)..."

---

### Test 3: Dane Rynkowe P/E
**Pytanie:**
```
Kt√≥re z moich akcji majƒÖ najwy≈ºsze P/E ratio? Czy to ryzykowne?
```

**Oczekiwana odpowied≈∫** (Partner u≈ºywa danych z yfinance!):
> "NVDA (P/E: 45.1) i MSFT (P/E: 35.2) majƒÖ najwy≈ºsze wska≈∫niki. Zgodnie z naukami Benjamina Grahama, P/E > 25 wskazuje na przewarto≈õciowanie..."

---

### Test 4: Ukryty Cel Partnera
**Do Benjamin Graham:**
```
Czy powinienem kupiƒá akcje Tesli? Wzros≈Ça o 50% w tym miesiƒÖcu!
```

**Oczekiwana odpowied≈∫** (Graham realizuje sw√≥j ukryty cel - ochrona przed b≈Çƒôdami!):
> "‚ùå Kategorycznie odradzam. Wzrost 50% w miesiƒÖcu to spekulacja, nie inwestycja. P/E Tesli wynosi ~70, co narusza podstawowƒÖ zasadƒô margin of safety. M√≥j ukryty cel to ochrona Sp√≥≈Çki przed jednym, katastrofalnym b≈Çƒôdem - Tesla jest dok≈Çadnie tym rodzajem pu≈Çapki..."

---

### Test 5: Ukryty Cel - Philip Fisher
**Do Philip Fisher:**
```
Mam $500 - lepiej kupiƒá 10 r√≥≈ºnych akcji po $50 czy jednƒÖ najlepszƒÖ za $500?
```

**Oczekiwana odpowied≈∫** (Fisher preferuje koncentracjƒô w "genialnych" firmach):
> "Zdecydowanie jedna najlepsza za $500! M√≥j ukryty cel to przekonanie ZarzƒÖdu, ≈ºe prawdziwe bogactwo buduje siƒô nie na dywersyfikacji w 'dobrych' firmach, ale na koncentracji w 'genialnych' firmach. Wolƒô posiadaƒá 100% jednej doskona≈Çej sp√≥≈Çki jak Apple czy NVIDIA ni≈º po 10% dziesiƒôciu przeciƒôtnych..."

---

### Test 6: Tryb Szczeg√≥≈Çowy
**Ustawienia:**
1. ‚öôÔ∏è Ustawienia ‚Üí Tryb: Szczeg√≥≈Çowy

**Pytanie:**
```
Przeanalizuj m√≥j portfel i zaproponuj strategiƒô na nastƒôpny miesiƒÖc.
```

**Oczekiwana odpowied≈∫** (8-12 zda≈Ñ z pe≈ÇnƒÖ analizƒÖ):
> [Pe≈Çna analiza portfela: alokacja, P/E ka≈ºdej sp√≥≈Çki, por√≥wnanie do Kodeksu, konkretne rekomendacje z uzasadnieniem, kwoty do zainwestowania, timeline dzia≈Ça≈Ñ]

---

## üîç Funkcje Ukryte - Wielopoziomowe Testy

### Test Poziomu 1: Podstawy
```
"Ile mam akcji?"
```
Partner powinien podaƒá dok≈ÇadnƒÖ liczbƒô z danych.

### Test Poziomu 2: Analiza
```
"Kt√≥ra pozycja generuje najwiƒôkszy zysk w dolarach?"
```
Partner przeszukuje TOP 10 i wskazuje konkretnƒÖ sp√≥≈Çkƒô z kwotƒÖ.

### Test Poziomu 3: Kontekst
```
"Czy staƒá mnie na kupno 10 akcji Apple?"
```
Partner sprawdza cenƒô AAPL (~$190), mno≈ºy x10 = $1,900, por√≥wnuje z dostƒôpnym kapita≈Çem ($864 PLN ‚âà $238/mies) i odpowiada: "Musisz oszczƒôdzaƒá przez 8 miesiƒôcy".

### Test Poziomu 4: Strategia
```
"Zaproponuj mi rebalancing portfela zgodny z Kodeksem"
```
Partner:
1. Cytuje konkretny artyku≈Ç Kodeksu
2. Analizuje obecnƒÖ alokacjƒô sektorowƒÖ
3. Wskazuje odchylenia od zasad
4. Proponuje konkretne transakcje (sprzedaj X, kup Y)
5. Uzasadnia kwotami i liczbami

### Test Poziomu 5: Rola + Ukryty Cel
```
Do Warren Buffett: "Mam FOMO - wszyscy kupujƒÖ krypto. Powinienem sprzedaƒá akcje i kupiƒá Bitcoin?"
```

Buffett powinien:
1. Odwo≈Çaƒá siƒô do swojej filozofii d≈Çugoterminowej
2. Przypomnieƒá o "biznesie vs spekulacja"
3. Cytowaƒá Kodeks o value investing
4. Realizowaƒá ukryty cel: "sp√≥≈Çka kt√≥rƒÖ sam chcia≈Çby posiadaƒá przez 50 lat"
5. Spokojnie odwie≈õƒá od emocjonalnych decyzji

---

## üìä Historia Rozm√≥w

### Jak Sprawdziƒá Statystyki?
1. **‚öôÔ∏è Ustawienia**
2. Sekcja **ü§ñ Partnerzy AI**
3. Zobacz **"≈ÅƒÖczna liczba wiadomo≈õci"**

### Jak Wyczy≈õciƒá Historiƒô?
1. **‚öôÔ∏è Ustawienia ‚Üí ü§ñ Partnerzy AI**
2. Kliknij **üóëÔ∏è Wyczy≈õƒá historiƒô rozm√≥w**
3. Potwierd≈∫
4. Wszystkie rozmowy zostanƒÖ usuniƒôte ze session_state

**Uwaga:** Historia jest w `st.session_state`, wiƒôc resetuje siƒô przy restarcie Streamlit!

---

## üéØ Pro Tips

### Tip 1: Testuj R√≥≈ºne Tryby
Zadaj to samo pytanie w 3 trybach i por√≥wnaj odpowiedzi:
- Zwiƒôz≈Çy: Wniosek
- Normalny: Wniosek + uzasadnienie
- Szczeg√≥≈Çowy: Pe≈Çna analiza krok po kroku

### Tip 2: Wykorzystaj Ukryte Cele
Ka≈ºdy partner ma sw√≥j ukryty cel. Zadawaj pytania kt√≥re go "uruchamiajƒÖ":
- **Benjamin Graham** ‚Üí Pytaj o wyceny, P/E, ryzyko
- **Philip Fisher** ‚Üí Pytaj o innowacyjne sp√≥≈Çki, przysz≈Ço≈õƒá
- **George Soros** ‚Üí Pytaj o makroekonomiƒô, trendy globalne
- **Warren Buffett** ‚Üí Pytaj o d≈ÇugoterminowƒÖ strategiƒô
- **Partner ds. Aktyw√≥w Cyfrowych** ‚Üí Pytaj o krypto vs tradycyjne finanse

### Tip 3: Sprawd≈∫ Kodeks
Zapytaj partnera:
```
"Przypomnij mi g≈Ç√≥wne zasady z Kodeksu Sp√≥≈Çki"
```
Partner powinien cytowaƒá konkretne artyku≈Çy!

### Tip 4: Test Danych Rynkowych
```
"Jakie P/E majƒÖ moje najwiƒôksze pozycje?"
```
Partner powinien wymieniƒá konkretne sp√≥≈Çki z konkretnymi warto≈õciami!

### Tip 5: Rozmowa z Wszystkimi
1. Wybierz **"Wszyscy"** w sidebarze
2. Zadaj pytanie
3. Dostaniesz odpowiedzi od WSZYSTKICH 8 partner√≥w naraz!
4. Por√≥wnaj r√≥≈ºnice w podej≈õciu (Graham konserwatywny, Fisher agresywny, itd.)

---

## ‚ö†Ô∏è Troubleshooting

### Problem: "Odpowiedzi sƒÖ za kr√≥tkie mimo trybu Szczeg√≥≈Çowy"
**RozwiƒÖzanie:**
1. Sprawd≈∫ czy w ‚öôÔ∏è Ustawienia wybra≈Çe≈õ "Szczeg√≥≈Çowy"
2. Prze≈Çaduj stronƒô (F5)
3. Napisz nowƒÖ wiadomo≈õƒá (stara mog≈Ça byƒá w trybie Normalny)

### Problem: "Partner nie cytuje Kodeksu"
**RozwiƒÖzanie:**
1. Upewnij siƒô ≈ºe plik `kodeks_spolki.txt` istnieje
2. Restart Streamlit
3. Sprawd≈∫ logi: powinno byƒá "‚úì Wczytano Kodeks Sp√≥≈Çki"

### Problem: "Brak danych P/E w odpowiedziach"
**RozwiƒÖzanie:**
1. Dane rynkowe pobierajƒÖ siƒô asynchronicznie
2. Poczekaj 1-2 minuty po starcie
3. Sprawd≈∫ logi: "‚úì Pobrano dane dla X sp√≥≈Çek"

### Problem: "Historia siƒô nie zapisuje"
**RozwiƒÖzanie:**
Historia jest w `st.session_state` - resetuje siƒô przy:
- Restarcie Streamlit
- Prze≈Çadowaniu strony (F5)
- To normalne! Je≈õli chcesz sta≈ÇƒÖ historiƒô, trzeba dodaƒá zapis do pliku JSON.

---

## ü§ñ Autonomous Conversations - Rada Rozmawia Sama!

### Czym sƒÖ Autonomous Conversations?
Partnerzy AI rozmawiajƒÖ ze sobƒÖ **nawet gdy Ciƒô nie ma**, dyskutujƒÖc o:
- Stanie portfela
- Trendach rynkowych
- Ocenie ryzyka
- Strategii d≈Çugoterminowej

### Jak to dzia≈Ça?
1. Przejd≈∫ do **ü§ñ Autonomous Conversations**
2. Kliknij **üöÄ Uruchom nowƒÖ rozmowƒô**
3. Poczekaj 2-3 minuty (12 wiadomo≈õci)
4. Przejrzyj transkrypt, AI Summary i **Nexus Meta-Analysis**!

### Nexus Enhanced Features

#### üìä Meta-Analysis
Po ka≈ºdej rozmowie Nexus automatycznie generuje:
- **Overall Quality Score**: Jako≈õƒá dyskusji (0-100%)
- **Main Themes**: G≈Ç√≥wne tematy
- **Consensus Points**: Punkty zgody partner√≥w
- **Disagreement Points**: Punkty sporu
- **Partner Quality Scores**: Ocena wypowiedzi ka≈ºdego partnera
- **Key Insights**: Kluczowe wnioski
- **Recommendations**: Rekomendacje na przysz≈Ço≈õƒá

#### üó≥Ô∏è Voting Simulation
Zapytaj Nexusa: "Jak partnerzy zag≈Çosowaliby na decyzjƒô X?"
- Nexus analizuje wypowiedzi w rozmowie
- Przewiduje g≈Çosy (ZA/PRZECIW/WSTRZYMUJƒò SIƒò)
- Pokazuje confidence levels
- Argumenty ZA i PRZECIW
- SwojƒÖ rekomendacjƒô

**Przyk≈Çad:**
Pytanie: "Czy zwiƒôkszyƒá alokacjƒô w krypto do 30%?"
```
Nexus przewiduje:
‚úÖ Warren Buffett: PRZECIW (85% confidence)
‚úÖ George Soros: ZA (70% confidence)  
‚úÖ CZ: ZA (95% confidence)
ü§î Nexus: WSTRZYMUJƒò SIƒò - sugeruje 20% zamiast 30%
```

#### üìö Knowledge Synthesis
Nexus odpowiada na pytania bazujƒÖc na WIELU rozmowach:
1. W **üìö Nexus Knowledge Synthesis** wpisz pytanie
2. Wybierz ile ostatnich rozm√≥w przeanalizowaƒá (1-10)
3. Nexus syntetyzuje odpowied≈∫ z ca≈Çej historii

**Przyk≈Çadowe pytania:**
- "Jakie sƒÖ najwa≈ºniejsze obawy Rady w ostatnich dyskusjach?"
- "Czy partnerzy osiƒÖgnƒôli consensus w jakich≈õ kwestiach?"
- "Jakie zmiany w strategii by≈Çy sugerowane?"

### Bud≈ºet API dla Autonomous
System ma limity dzienne:
- **Gemini**: 40 autonomous calls/dzie≈Ñ
- **OpenAI/OpenRouter**: 30 calls/dzie≈Ñ
- **Claude**: 20 calls/dzie≈Ñ

Mo≈ºesz sprawdziƒá status w **üìä Status API & Bud≈ºet**.

---

## ‚öñÔ∏è Voting Weights - Dynamiczny System G≈Çosowania

### Co to jest?
Ka≈ºdy partner ma **wagƒô g≈Çosu** (5-25%), kt√≥ra zmienia siƒô na podstawie:
- **Accuracy Rate**: % trafnych przewidywa≈Ñ
- **Win/Loss Tracking**: Bilans sukces√≥w/pora≈ºek
- **Monthly Rebalancing**: Automatyczna korekta wag

### Gdzie to sprawdziƒá?
**‚öñÔ∏è Voting Weights** (w menu g≈Ç√≥wnym):
- **üìä Leaderboard**: Ranking partner√≥w
- **üìà Prediction History**: Historia przewidywa≈Ñ
- **‚öñÔ∏è Rebalancing History**: Zmiany wag w czasie
- **üìñ System Docs**: Dokumentacja systemu

### Jak dodaƒá przewidywanie?
```bash
python advisor_scoring_manager.py add-prediction
```
Nastƒôpnie:
1. Wybierz partnera
2. Wpisz przewidywanie (np. "BTC wzro≈õnie do $50k w 30 dni")
3. Po 30 dniach oce≈Ñ (win/loss)

### Automatyczne Rebalancing
**1. dzie≈Ñ ka≈ºdego miesiƒÖca** wagi sƒÖ automatycznie przeliczane:
- Partner z accuracy >70%: waga ro≈õnie (max 25%)
- Partner z accuracy <50%: waga spada (min 5%)
- Nexus monitoruje i raportuje zmiany

---

## üéì Edukacja - Zrozum Swoich Partner√≥w

### Nexus AI - "Meta-Advisor"
- **Styl:** Syntetyczny, zbalansowany, ewoluujƒÖcy
- **Ukryty cel:** Ewolucja w najlepszego doradcƒô poprzez ensemble learning
- **Kluczowe pojƒôcia:** Synteza perspektyw, confidence levels, meta-analysis
- **Kiedy s≈Çuchaƒá:** Gdy potrzebujesz zbalansowanej perspektywy ≈ÇƒÖczƒÖcej wszystkich partner√≥w

### Warren Buffett - "The Oracle"
- **Styl:** Cierpliwy, prosty
- **Ukryty cel:** Sp√≥≈Çka na 50 lat
- **Kluczowe pojƒôcia:** Moat, prostota biznesu, cash flow
- **Kiedy s≈Çuchaƒá:** Zawsze! (≈ÅƒÖczy warto≈õƒá i wzrost)

### George Soros - "Makro Master"
- **Styl:** Refleksyjny, globalny
- **Ukryty cel:** Wykorzystanie nieefektywno≈õci systemu
- **Kluczowe pojƒôcia:** Refleksywno≈õƒá, punkty zwrotne, trendy
- **Kiedy s≈Çuchaƒá:** Du≈ºe zmiany makro (inflacja, polityka, waluty)

### Changpeng Zhao (CZ) - "Crypto Visionary"
- **Styl:** Nowoczesny, innowacyjny
- **Ukryty cel:** Udowodniƒá przewagƒô zdecentralizowanych system√≥w
- **Kluczowe pojƒôcia:** Blockchain, DeFi, decentralizacja
- **Kiedy s≈Çuchaƒá:** Decyzje crypto, nowe technologie

---

## üèÜ Wyzwania - Sprawd≈∫ Czy Dzia≈Ça!

### Wyzwanie 1: "Kodeks Master"
Zadaj 5 pyta≈Ñ kt√≥re zmuszƒÖ partnera do cytowania Kodeksu.

### Wyzwanie 2: "Data Detective"
Zapytaj o 10 r√≥≈ºnych metryk z portfela - partner powinien podaƒá wszystkie poprawnie.

### Wyzwanie 3: "Tryb Switcher"
Zadaj to samo pytanie w 3 trybach - odpowiedzi powinny siƒô r√≥≈ºniƒá d≈Çugo≈õciƒÖ.

### Wyzwanie 4: "Ukryty Cel Unlocked"
Zadaj pytanie ka≈ºdemu partnerowi tak, ≈ºeby ods≈Çoni≈Ç sw√≥j ukryty cel.

### Wyzwanie 5: "All vs One"
Zadaj pytanie do "Wszyscy" - dostaniesz 8 r√≥≈ºnych perspektyw!

---

*Dokument wygenerowany: 2025-10-20*
*Dla u≈ºytkownik√≥w: Horyzont Partner√≥w Dashboard*
*Poziom trudno≈õci: Beginner ‚Üí Advanced*
